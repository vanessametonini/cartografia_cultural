(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70c6df74"],{4057:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("div",{staticClass:"input-content"},[e.editMode?s("h4",{staticClass:"title-3 bolder"},[e._v(" Edite seu evento ")]):s("h4",{staticClass:"title-3 bolder"},[e._v(" Adicione um novo evento ")]),s("div",{staticClass:"column mg-top16"},[s("span",{staticClass:"subheading-2"},[e._v("Nome do evento*")]),s("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",maxlength:"90","error-message":e.nameErrorMessage,error:e.$v.name.$error},on:{blur:e.$v.name.$touch},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),s("div",{staticClass:"row justify-between mg-top8"},[s("div",{staticClass:"column"},[s("span",{staticClass:"subheading-2"},[e._v("Data*")]),s("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",readonly:"","error-message":e.dateErrorMessage,error:e.$v.date.$error},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"DD/MM/YYYY","unmasked-value":"",color:"black"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[s("div",{staticClass:"row items-center justify-end"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Fechar",color:"black",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),s("div",{staticClass:"column"},[s("span",{staticClass:"subheading-2"},[e._v("Hora*")]),s("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",readonly:"","error-message":e.timeErrorMessage,error:e.$v.time.$error},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"HH:mm","unmasked-value":"",color:"black",format24h:""},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}},[s("div",{staticClass:"row items-center justify-end"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Fechar",color:"black",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Local do evento*")]),s("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",hint:"Caso seja online, escreva o nome da plataforma: Youtube, Zoom, Instagram ...","error-message":e.localErrorMessage,error:e.$v.local.$error},on:{blur:e.$v.local.$touch},model:{value:e.local,callback:function(t){e.local=t},expression:"local"}})],1),s("div",{staticClass:"row justify-between mg-top8"},[s("div",{staticClass:"column"},[s("span",{staticClass:"subheading-2"},[e._v("CEP")]),s("q-input",{staticClass:"input",attrs:{dense:"",mask:"##.###-###","unmasked-value":"","input-class":"text-black",color:"black","error-message":e.zipcodeErrorMessage,error:e.$v.zipcode.$error},on:{blur:e.$v.zipcode.$touch,keyup:function(t){return e.searchAddress()}},model:{value:e.zipcode,callback:function(t){e.zipcode=t},expression:"zipcode"}})],1),s("div",{staticClass:"column"},[s("span",{staticClass:"subheading-2"},[e._v("Número")]),s("q-input",{ref:"inputNumber",staticClass:"input",attrs:{dense:"",mask:"#####","unmasked-value":"","input-class":"text-black",color:"black","error-message":e.numberErrorMessage,error:e.$v.number.$error},on:{blur:e.$v.number.$touch},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1)]),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Rua - logradouro")]),s("q-input",{staticClass:"input",attrs:{disable:"",dense:"","input-class":"text-black",color:"black","error-message":e.streetErrorMessage,error:e.$v.street.$error},on:{blur:e.$v.street.$touch},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Bairro")]),s("q-input",{staticClass:"input",attrs:{disable:"",dense:"","input-class":"text-black",color:"black","error-message":e.neighborhoodErrorMessage,error:e.$v.neighborhood.$error},on:{blur:e.$v.neighborhood.$touch},model:{value:e.neighborhood,callback:function(t){e.neighborhood=t},expression:"neighborhood"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Descrição*")]),s("q-input",{attrs:{autogrow:"",dense:"",hint:"Máximo 200 caracteres",rules:[function(e){return e.length<=400||"Máximo de 400 caracteres"}],"input-class":"text-black",color:"black","error-message":e.descriptionErrorMessage,error:e.$v.description.$error},on:{blur:e.$v.description.$touch},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Valor")]),s("q-field",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black"},scopedSlots:e._u([{key:"control",fn:function(t){var r=t.id,i=t.floatingLabel,o=t.value,a=t.emitValue;return[s("money",e._b({directives:[{name:"show",rawName:"v-show",value:i,expression:"floatingLabel"}],staticClass:"q-field__input text-left",attrs:{id:r,value:o},on:{input:a}},"money",e.money,!1))]}}]),model:{value:e.ticket,callback:function(t){e.ticket=t},expression:"ticket"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Link")]),s("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",hint:"Deixe o link caso o evento for online!","error-message":e.linkErrorMessage,error:e.$v.link.$error},on:{blur:e.$v.link.$touch},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Categoria*")]),s("q-select",{staticClass:"input",attrs:{"option-value":"id","option-label":"label","map-options":"","emit-value":"",square:"",dense:"",options:e.categories,"options-dense":"","options-selected-class":"",color:"black","error-message":e.categoryErrorMessage,error:e.$v.categoryId.$error},on:{blur:e.$v.categoryId.$touch,input:function(t){e.category=e.$store.getters["categories/getCategoryById"](e.categoryId)}},scopedSlots:e._u([{key:"selected",fn:function(){return[s("span",{staticClass:"caption bold"},[e._v(e._s(e.category.label))])]},proxy:!0}]),model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})],1),e.images.length?s("q-carousel",{attrs:{swipeable:"",animated:"",arrows:e.images.length>1,navigation:"",infinite:"","transition-prev":"slide-right","transition-next":"slide-left"},on:{mouseenter:function(t){e.autoplay=!1},mouseleave:function(t){e.autoplay=!0}},scopedSlots:e._u([{key:"control",fn:function(){return[s("q-carousel-control",{attrs:{position:"bottom-right",offset:[18,18]}})]},proxy:!0}],null,!1,1922682383),model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},e._l(e.images.length,(function(t){return s("q-carousel-slide",{key:"full-"+t,attrs:{name:t,"img-src":""+e.$store.getters["services/getImagePath"]+e.images[t-1]}})})),1):e._e(),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Insira uma imagem")]),s("q-file",{staticClass:"input",attrs:{value:e.files,dense:"",square:"",counter:"","use-chips":"",multiple:"","max-files":3,accept:".jpg,.jpeg,.png,.gif","max-file-size":"2097152","error-message":e.filesErrorMessage,error:e.$v.files.$error},on:{blur:e.$v.files.$touch,input:e.updateFiles},scopedSlots:e._u([{key:"append",fn:function(){return[null!==e.files?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.files=null}}}):e._e(),s("q-icon",{attrs:{name:"create_new_folder"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v(" Tamanho máximo de 2MB. Formato JPG. ")]},proxy:!0}])})],1)],1),s("div",{staticClass:"mg-top32",attrs:{align:"right"}},[s("q-btn",{attrs:{outline:"",color:"black"},on:{click:function(t){return e.confirmCreate()}}},[s("span",{staticClass:"caption"},[e._v("Enviar")])])],1)])},i=[],o=s("1da1"),a=s("5530"),n=(s("96cf"),s("b0c0"),s("a4d3"),s("e01a"),s("9911"),s("4de4"),s("fb6a"),s("99af"),s("2f62")),c=s("5935"),l=s("b5ae"),u=s("716b"),d=s("8572"),p=s("bc3a"),m=s.n(p),h=Object(c["a"])({getterType:"events/getField",mutationType:"events/updateField"}),g=h.mapFields,b=function(e,t){return!l["helpers"].req(e)||e&&0==t.zipcodeNotFound},f={name:"EventProfile",components:{Money:u["Money"],QField:d["a"]},props:{editMode:{type:Boolean,default:!1}},data:function(){return{waiting:!1,files:null,file:null,money:{decimal:",",thousands:".",prefix:"R$ ",precision:2,maxlength:14,masked:!1},autoplay:!0,slide:1,zipcodeNotFound:!1}},validations:{categoryId:{required:l["required"]},name:{required:l["required"]},date:{required:l["required"]},time:{required:l["required"]},local:{required:l["required"]},street:{},neighborhood:{},number:{numeric:l["numeric"]},zipcode:{minLength:Object(l["minLength"])(8),zipcodeNotFound:b,required:Object(l["requiredIf"])((function(){return this.zipcode.length}))},description:{required:l["required"]},link:{url:l["url"]},files:{}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},g({category:"categorySelected",categoryId:"eventForm.categoryId",name:"eventForm.title",date:"eventForm.date",time:"eventForm.time",ticket:"eventForm.ticket",local:"eventForm.local",street:"eventForm.street",neighborhood:"eventForm.neighborhood",number:"eventForm.number",city:"eventForm.city",zipcode:"eventForm.zipcode",description:"eventForm.description",link:"eventForm.link",images:"eventForm.imageIds"})),Object(n["d"])({categories:"categories/loadCategories",user:"users/getCurrentUser"})),{},{categoryErrorMessage:function(){return this.$v.categoryId.required?"":"Esse campo é obrigatório"},nameErrorMessage:function(){return this.$v.name.required?"":"Esse campo é obrigatório"},dateErrorMessage:function(){return this.$v.date.required?"":"Esse campo é obrigatório"},timeErrorMessage:function(){return this.$v.time.required?"":"Esse campo é obrigatório"},localErrorMessage:function(){return this.$v.local.required?"":"Esse campo é obrigatório"},streetErrorMessage:function(){return""},neighborhoodErrorMessage:function(){return""},numberErrorMessage:function(){return""},zipcodeErrorMessage:function(){return this.$v.zipcode.minLength?b?"CEP não encontrado":"":"Entre com um CEP válido"},descriptionErrorMessage:function(){return this.$v.description.required?"":"Esse campo é obrigatório"},linkErrorMessage:function(){return this.$v.link.url?"":"Entre com uma url válida"},filesErrorMessage:function(){return""}}),created:function(){"edit"===this.$route.params.action?this.fetchStorage():"edit"!==this.$route.params.action&&this.cleanForm()&&this.$v.$reset()},methods:{updateFiles:function(e){if(!1===Array.isArray(e)||0===e.length)this.files=null;else if(!0===Array.isArray(this.files)){var t=this.files.filter((function(t){return-1===e.indexOf(t)}));1===t.length&&this.files.length>1?this.files=e.slice():this.files.length<3&&(this.files=t.concat(e))}else this.files=e.slice()},sendForm:function(){this.editMode?this.$store.dispatch("events/updateEvent",{$router:this.$router}):this.$store.dispatch("events/createNewEvent",{$router:this.$router}),this.waiting=!1},cleanForm:function(){this.date="",this.time="",this.ticket="",this.site="",this.street="",this.neighborhood="",this.number="",this.city="",this.zipcode="",this.description="",this.link="",this.imgUrl="",this.category="",this.categoryId=null,this.name="",this.local="",this.images=[]},confirmCreate:function(){var e=this;this.waiting=!0,this.$v.$touch(),this.$v.$anyError?this.$q.notify({message:"Por favor, preencha os campos corretamente.",position:"top-right"}):(this.$q.notify({message:"Por favor, aguarde.",position:"top-right",timeout:1500}),this.files?this.$store.dispatch("images/uploadArray",{files:this.files}).then((function(t){e.images=t,e.sendForm()}))["catch"]((function(t){e.waiting=!1})):this.sendForm())},searchAddress:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.zipcodeNotFound=!1,!/^[0-9]{8}$/.test(this.zipcode)){e.next=17;break}return e.next=5,m.a.get("https://viacep.com.br/ws/"+this.zipcode+"/json/");case 5:if(s=e.sent,!s.data.erro){e.next=13;break}return this.$refs.inputNumber.focus(),t.zipcodeNotFound=!0,t.street="",t.neighborhood="",t.city="",e.abrupt("return");case 13:t.street=s.data.logradouro,t.neighborhood=s.data.bairro,t.city=s.data.localidade,this.$refs.inputNumber.focus();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchStorage:function(){var e=this.$store.state.events.currentEvent,t=new Date(this.$store.state.events.currentEvent.dateTime),s=t.toLocaleDateString(),r=t.toLocaleTimeString();this.categoryId=e.categoryId,this.category=this.$store.getters["categories/getCategoryById"](this.categoryId),this.imageIds=e.imageIds,this.name=e.title,this.date=s,this.time=r,this.street=e.street,this.neighborhood=e.neighborhood,this.number=e.number,this.zipcode=e.zipcode,this.city=e.city,this.ticket=e.ticket,this.link=e.link,this.local=e.local,this.description=e.description}}},v=f,k=(s("904c"),s("2877")),$=s("fe09"),y=Object(k["a"])(v,r,i,!1,null,"0905cc2e",null);t["a"]=y.exports;y.options.components=Object.assign(Object.create(y.options.components||null),y.options.components||{},{QInput:$["y"],QIcon:$["v"],QPopupProxy:$["H"],QDate:$["l"],QBtn:$["c"],QTime:$["R"],QField:$["s"],QSelect:$["K"],QCarousel:$["g"],QCarouselSlide:$["i"],QCarouselControl:$["h"],QFile:$["t"]}),y.options.directives=Object.assign(Object.create(y.options.directives||null),y.options.directives||{},{ClosePopup:$["a"]})},"6c41":function(e,t,s){},"75a9":function(e,t,s){"use strict";s("9247")},"84c8":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("div",{staticClass:"input-content"},[e.editMode?s("h4",{staticClass:"title-3 bolder"},[e._v(" Edite seu pin ")]):s("h4",{staticClass:"title-3 bolder"},[e._v(" Adicione um novo pin no mapa ")]),s("div",{staticClass:"column mg-top16"},[s("span",{staticClass:"subheading-2"},[e._v("Nome do pin*")]),s("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",maxlength:"90",required:"",error:e.$v.title.$error,"error-message":e.titleErrorMessage},on:{blur:e.$v.title.$touch},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Categoria*")]),s("q-select",{staticClass:"input",attrs:{"option-value":"id","option-label":"label","map-options":"","emit-value":"",square:"",dense:"",options:e.categories,"options-dense":"","options-selected-class":"",color:"black",error:e.$v.categoryId.$error,"error-message":e.categoryErrorMessage},on:{blur:e.$v.categoryId.$touch,input:function(t){e.category=e.$store.getters["categories/getCategoryById"](e.categoryId)}},scopedSlots:e._u([{key:"selected",fn:function(){return[s("span",{staticClass:"caption bold"},[e._v(e._s(e.category.label))])]},proxy:!0}]),model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})],1),s("div",{staticClass:"row justify-between mg-top8"},[s("div",{staticClass:"column"},[s("span",{staticClass:"subheading-2"},[e._v("CEP*")]),s("q-input",{staticClass:"input",attrs:{dense:"",mask:"##.###-###","unmasked-value":"","input-class":"text-black",color:"black",error:e.$v.cep.$error,"error-message":e.cepErrorMessage},on:{blur:e.$v.cep.$touch,keyup:function(t){return e.searchAddress()}},model:{value:e.cep,callback:function(t){e.cep=t},expression:"cep"}})],1),s("div",{staticClass:"column"},[s("span",{staticClass:"subheading-2"},[e._v("Número")]),s("q-input",{ref:"inputNumber",staticClass:"input",attrs:{dense:"",mask:"########","input-class":"text-black",color:"black",error:e.$v.number.$error,"error-message":e.numberErrorMessage},on:{blur:e.$v.number.$touch},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1)]),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Rua - logradouro*")]),s("q-input",{staticClass:"input",attrs:{disable:"",dense:"","input-class":"text-black",color:"black",error:e.$v.street.$error,"error-message":e.streetErrorMessage},on:{blur:e.$v.street.$touch},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Bairro*")]),s("q-input",{staticClass:"input",attrs:{disable:"",dense:"","input-class":"text-black",color:"black",error:e.$v.neighborhood.$error,"error-message":e.neighborhoodErrorMessage},on:{blur:e.$v.neighborhood.$touch},model:{value:e.neighborhood,callback:function(t){e.neighborhood=t},expression:"neighborhood"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Descrição*")]),s("q-input",{attrs:{autogrow:"",dense:"",hint:"Máximo 200 caracteres","input-class":"text-black",color:"black",rules:[function(e){return e.length<=200||"Máximo de 200 caracteres"}],error:e.$v.description.$error,"error-message":e.descriptionErrorMessage},on:{blur:e.$v.description.$touch},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Email")]),s("q-input",{staticClass:"input",attrs:{dense:"",type:"email","input-class":"text-black",color:"black",error:e.$v.email.$error,"error-message":e.emailErrorMessage},on:{blur:e.$v.email.$touch},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Link")]),s("q-input",{staticClass:"input f-size",attrs:{dense:"","input-class":"text-black",color:"black","error-message":e.linkErrorMessage,error:e.$v.link.$error},on:{blur:e.$v.link.$touch},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("WhatsApp")]),s("q-input",{staticClass:"input",attrs:{dense:"",mask:"(##) #### - #####","unmasked-value":"",color:"black",error:e.$v.phone.$error,"error-message":e.phoneErrorMessage},on:{blur:e.$v.phone.$touch},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Facebook")]),s("q-input",{staticClass:"input f-size",attrs:{dense:"","input-class":"text-black",color:"black","error-message":e.facebookErrorMessage,error:e.$v.facebook.$error},on:{blur:e.$v.facebook.$touch},model:{value:e.facebook,callback:function(t){e.facebook=t},expression:"facebook"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Instagram")]),s("q-input",{staticClass:"input f-size",attrs:{dense:"","input-class":"text-black",color:"black",error:e.$v.instagram.$error,"error-message":e.instagramErrorMessage},on:{blur:e.$v.instagram.$touch},model:{value:e.instagram,callback:function(t){e.instagram=t},expression:"instagram"}})],1),e.images.length>0?s("div",{staticClass:"column mg-top8"},[s("q-img",{attrs:{src:""+e.$store.getters["services/getImagePath"]+e.images[0]}})],1):e._e(),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Insira uma imagem")]),s("q-file",{staticClass:"input",attrs:{dense:"",square:"","use-chips":"",multiple:"","max-files":1,accept:".jpg,.jpeg,.png,.gif","max-file-size":"2097152","error-message":e.filesErrorMessage,error:e.$v.files.$error},on:{blur:e.$v.files.$touch},scopedSlots:e._u([{key:"append",fn:function(){return[null!==e.files?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.files=null}}}):e._e(),s("q-icon",{attrs:{name:"create_new_folder"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v(" Tamanho máximo de 2MB. Formato JPG. ")]},proxy:!0}]),model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})],1)]),s("div",{staticClass:"mg-top32",attrs:{align:"right"}},[s("q-btn",{attrs:{outline:"",color:"black"},on:{click:function(t){return e.confirmCreate()}}},[s("span",{staticClass:"caption"},[e._v("Enviar")])])],1)])},i=[],o=s("1da1"),a=s("5530"),n=(s("96cf"),s("a4d3"),s("e01a"),s("9911"),s("fb6a"),s("99af"),s("4de4"),s("2f62")),c=s("5935"),l=s("b5ae"),u=s("bc3a"),d=s.n(u),p=Object(c["a"])({getterType:"pins/getField",mutationType:"pins/updateField"}),m=p.mapFields,h=function(e,t){return e&&0==t.cepNotFound},g={name:"PinProfile",components:{},props:{item:{type:Object,default:null},fetch:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1}},data:function(){return{waiting:!1,valid:!0,active:!1,files:null,file:null,cepNotFound:!1}},validations:{categoryId:{required:l["required"]},title:{required:l["required"]},email:{email:l["email"]},phone:{minLength:Object(l["minLength"])(11)},street:{required:l["required"]},number:{numeric:l["numeric"]},neighborhood:{required:l["required"]},city:{},cep:{required:l["required"],minLength:Object(l["minLength"])(8),cepNotFound:h},description:{required:l["required"]},link:{url:l["url"]},facebook:{url:l["url"]},instagram:{url:l["url"]},twitter:{url:l["url"]},whatsapp:{},files:{}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(n["d"])({categories:"categories/loadCategories"})),m({category:"categorySelected",categoryId:"pinForm.categoryId",title:"pinForm.title",email:"pinForm.email",phone:"pinForm.phone",street:"pinForm.street",number:"pinForm.number",neighborhood:"pinForm.neighborhood",city:"pinForm.city",cep:"pinForm.zipcode",description:"pinForm.description",images:"pinForm.imageIds",link:"pinForm.link",facebook:"pinForm.facebook",instagram:"pinForm.instagram",twitter:"pinForm.twitter",whatsapp:"pinForm.whatsapp"})),{},{categoryErrorMessage:function(){return this.$v.categoryId.required?"":"Esse campo é obrigatório"},titleErrorMessage:function(){return this.$v.title.required?"":"Esse campo é obrigatório"},emailErrorMessage:function(){return this.$v.email.email?"":"Entre com um email válido"},phoneErrorMessage:function(){return this.$v.phone.minLength?"":"Entre com um telefone válido"},streetErrorMessage:function(){return this.$v.street.required?"":"Esse campo é obrigatório"},numberErrorMessage:function(){return""},neighborhoodErrorMessage:function(){return this.$v.neighborhood.required?"":"Esse campo é obrigatório"},cityErrorMessage:function(){return this.$v.city.required?"":"Esse campo é obrigatório"},cepErrorMessage:function(){return this.$v.cep.required?this.$v.cep.minLength?h?"Cep não encontrado":"":"Entre com um cep válido":"Esse campo é obrigatório"},descriptionErrorMessage:function(){return this.$v.description.required?"":"Esse campo é obrigatório"},linkErrorMessage:function(){return this.$v.link.url?"":"Entre com uma url válida"},facebookErrorMessage:function(){return this.$v.facebook.url?"":"Entre com uma url válida"},instagramErrorMessage:function(){return this.$v.instagram.url?"":"Entre com uma url válida"},twitterErrorMessage:function(){return this.$v.twitter.url?"":"Entre com uma url válida"},whatsappErrorMessage:function(){return""},filesErrorMessage:function(){return this.$v.files.required?"":"É necessário uma imagem."},phoneMask:function(){if(null===this.phone||void 0===this.phone)return!1;var e="",t=this.phone,s=t.slice(0,2),r=t.slice(2,7),i=t.slice(7,11);return e=e.concat(s).concat("").concat(r).concat(" ").concat(i),e}}),created:function(){"edit"===this.$route.params.action?this.fetchStorage():"edit"!==this.$route.params.action&&this.cleanForm()&&this.$v.$reset()},methods:{sendForm:function(){this.editMode?this.$store.dispatch("pins/putPin",{$router:this.$router}):this.$store.dispatch("pins/postPin",{$router:this.$router})},confirmCreate:function(){var e=this;this.waiting=!0,this.$v.$touch(),this.$v.$anyError?this.$q.notify({message:"Por favor, preencha os campos corretamente.",position:"top-right"}):(this.waiting&&this.$q.notify({message:"Por favor, aguarde.",position:"top-right",timeout:1500}),this.files?this.$store.dispatch("images/uploadArray",{files:this.files}).then((function(t){e.images=t,e.sendForm()}))["catch"]((function(t){e.waiting=!1})):this.sendForm())},updateFiles:function(e){if(!1===Array.isArray(e)||0===e.length)this.files=null;else if(!0===Array.isArray(this.files)){var t=this.files.filter((function(t){return-1===e.indexOf(t)}));1===t.length&&this.files.length>1?this.files=e.slice():this.files.length<3&&(this.files=t.concat(e))}else this.files=e.slice()},cleanForm:function(){this.category="",this.categoryId=null,this.title="",this.email="",this.phone="",this.street="",this.number="",this.neighborhood="",this.city="",this.cep="",this.description="",this.images=[],this.link="",this.facebook="",this.instagram="",this.twitter="",this.whatsapp=""},searchAddress:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.cepNotFound=!1,!/^[0-9]{8}$/.test(this.cep)){e.next=17;break}return e.next=5,d.a.get("https://viacep.com.br/ws/"+this.cep+"/json/");case 5:if(s=e.sent,!s.data.erro){e.next=13;break}return this.$refs.inputNumber.focus(),t.cepNotFound=!0,t.street="",t.neighborhood="",t.city="",e.abrupt("return");case 13:t.street=s.data.logradouro,t.neighborhood=s.data.bairro,t.city=s.data.localidade,this.$refs.inputNumber.focus();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchStorage:function(){var e=this.$route.params.id?this.$route.params.id:this.$store.state.pins.selectedPinId,t=this.$store.getters["pins/getPinById"](e);this.categoryId=t.categoryId,this.category=this.$store.getters["categories/getCategoryById"](this.categoryId),this.title=t.title,this.email=t.email,this.phone=t.phone,this.number=t.number,this.street=t.street,this.neighborhood=t.neighborhood,this.city=t.city,this.cep=t.zipcode,this.description=t.description,this.link=t.link,this.facebook=t.facebook,this.instagram=t.instagram,this.images=t.imageIds}}},b=g,f=(s("75a9"),s("2877")),v=s("fe09"),k=Object(f["a"])(b,r,i,!1,null,"4942e262",null);t["a"]=k.exports;k.options.components=Object.assign(Object.create(k.options.components||null),k.options.components||{},{QInput:v["y"],QSelect:v["K"],QImg:v["w"],QFile:v["t"],QIcon:v["v"],QBtn:v["c"]})},"904c":function(e,t,s){"use strict";s("6c41")},9247:function(e,t,s){}}]);
//# sourceMappingURL=chunk-70c6df74.7c2a34f3.js.map