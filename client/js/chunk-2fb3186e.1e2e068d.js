(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fb3186e"],{1331:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=(0,i.regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=o},2300:function(e,t,r){"use strict";r("9e1d")},"2a12":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(e){return(0,i.withParams)({type:"maxLength",max:e},(function(t){return!(0,i.req)(t)||(0,i.len)(t)<=e}))};t.default=o},3360:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.withParams)({type:"and"},(function(){for(var e=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.length>0&&t.reduce((function(t,r){return t&&r.apply(e,i)}),!0)}))};t.default=o},"3a54":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=(0,i.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=o},4057:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box"},[r("div",{staticClass:"input-content"},[e.editMode?r("h4",{staticClass:"title-3 bolder"},[e._v(" Edite seu evento ")]):r("h4",{staticClass:"title-3 bolder"},[e._v(" Adicione um novo evento ")]),r("div",{staticClass:"column mg-top16"},[r("span",{staticClass:"subheading-2"},[e._v("Nome do evento*")]),r("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",maxlength:"90","error-message":e.nameErrorMessage,error:e.$v.name.$error},on:{blur:e.$v.name.$touch},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),r("div",{staticClass:"row justify-between mg-top8"},[r("div",{staticClass:"column"},[r("span",{staticClass:"subheading-2"},[e._v("Data*")]),r("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",readonly:"","error-message":e.dateErrorMessage,error:e.$v.date.$error},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[r("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-date",{attrs:{mask:"DD/MM/YYYY","unmasked-value":"",color:"black"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[r("div",{staticClass:"row items-center justify-end"},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Fechar",color:"black",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),r("div",{staticClass:"column"},[r("span",{staticClass:"subheading-2"},[e._v("Hora*")]),r("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",readonly:"","error-message":e.timeErrorMessage,error:e.$v.time.$error},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[r("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-time",{attrs:{mask:"HH:mm","unmasked-value":"",color:"black",format24h:""},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}},[r("div",{staticClass:"row items-center justify-end"},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Fechar",color:"black",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Local do evento*")]),r("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",hint:"Caso seja online, escreva o nome da plataforma: Youtube, Zoom, Instagram ...","error-message":e.localErrorMessage,error:e.$v.local.$error},on:{blur:e.$v.local.$touch},model:{value:e.local,callback:function(t){e.local=t},expression:"local"}})],1),r("div",{staticClass:"row justify-between mg-top8"},[r("div",{staticClass:"column"},[r("span",{staticClass:"subheading-2"},[e._v("CEP")]),r("q-input",{staticClass:"input",attrs:{dense:"",mask:"##.###-###","unmasked-value":"","input-class":"text-black",color:"black","error-message":e.zipcodeErrorMessage,error:e.$v.zipcode.$error},on:{blur:e.$v.zipcode.$touch,keyup:function(t){return e.searchAddress()}},model:{value:e.zipcode,callback:function(t){e.zipcode=t},expression:"zipcode"}})],1),r("div",{staticClass:"column"},[r("span",{staticClass:"subheading-2"},[e._v("Número")]),r("q-input",{ref:"inputNumber",staticClass:"input",attrs:{dense:"",mask:"#####","unmasked-value":"","input-class":"text-black",color:"black","error-message":e.numberErrorMessage,error:e.$v.number.$error},on:{blur:e.$v.number.$touch},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1)]),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Rua - logradouro")]),r("q-input",{staticClass:"input",attrs:{disable:"",dense:"","input-class":"text-black",color:"black","error-message":e.streetErrorMessage,error:e.$v.street.$error},on:{blur:e.$v.street.$touch},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Bairro")]),r("q-input",{staticClass:"input",attrs:{disable:"",dense:"","input-class":"text-black",color:"black","error-message":e.neighborhoodErrorMessage,error:e.$v.neighborhood.$error},on:{blur:e.$v.neighborhood.$touch},model:{value:e.neighborhood,callback:function(t){e.neighborhood=t},expression:"neighborhood"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Descrição*")]),r("q-input",{attrs:{autogrow:"",dense:"",hint:"Máximo 200 caracteres",rules:[function(e){return e.length<=400||"Máximo de 400 caracteres"}],"input-class":"text-black",color:"black","error-message":e.descriptionErrorMessage,error:e.$v.description.$error},on:{blur:e.$v.description.$touch},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Valor")]),r("q-field",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black"},scopedSlots:e._u([{key:"control",fn:function(t){var i=t.id,o=t.floatingLabel,s=t.value,a=t.emitValue;return[r("money",e._b({directives:[{name:"show",rawName:"v-show",value:o,expression:"floatingLabel"}],staticClass:"q-field__input text-left",attrs:{id:i,value:s},on:{input:a}},"money",e.money,!1))]}}]),model:{value:e.ticket,callback:function(t){e.ticket=t},expression:"ticket"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Link")]),r("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",hint:"Deixe o link caso o evento for online!","error-message":e.linkErrorMessage,error:e.$v.link.$error},on:{blur:e.$v.link.$touch},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Categoria*")]),r("q-select",{staticClass:"input",attrs:{"option-value":"id","option-label":"label","map-options":"","emit-value":"",square:"",dense:"",options:e.categories,"options-dense":"","options-selected-class":"",color:"black","error-message":e.categoryErrorMessage,error:e.$v.categoryId.$error},on:{blur:e.$v.categoryId.$touch,input:function(t){e.category=e.$store.getters["categories/getCategoryById"](e.categoryId)}},scopedSlots:e._u([{key:"selected",fn:function(){return[r("span",{staticClass:"caption bold"},[e._v(e._s(e.category.label))])]},proxy:!0}]),model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})],1),e.images.length?r("q-carousel",{attrs:{swipeable:"",animated:"",arrows:e.images.length>1,navigation:"",infinite:"","transition-prev":"slide-right","transition-next":"slide-left"},on:{mouseenter:function(t){e.autoplay=!1},mouseleave:function(t){e.autoplay=!0}},scopedSlots:e._u([{key:"control",fn:function(){return[r("q-carousel-control",{attrs:{position:"bottom-right",offset:[18,18]}})]},proxy:!0}],null,!1,1922682383),model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},e._l(e.images.length,(function(t){return r("q-carousel-slide",{key:"full-"+t,attrs:{name:t,"img-src":""+e.$store.getters["services/getImagePath"]+e.images[t-1]}})})),1):e._e(),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Insira uma imagem")]),r("q-file",{staticClass:"input",attrs:{value:e.files,dense:"",square:"",counter:"","use-chips":"",multiple:"","max-files":3,accept:".jpg,.jpeg,.png,.gif","max-file-size":"2097152","error-message":e.filesErrorMessage,error:e.$v.files.$error},on:{blur:e.$v.files.$touch,input:e.updateFiles},scopedSlots:e._u([{key:"append",fn:function(){return[null!==e.files?r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.files=null}}}):e._e(),r("q-icon",{attrs:{name:"create_new_folder"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v(" Tamanho máximo de 2MB. Formato JPG. ")]},proxy:!0}])})],1)],1),r("div",{staticClass:"mg-top32",attrs:{align:"right"}},[r("q-btn",{attrs:{outline:"",color:"black"},on:{click:function(t){return e.confirmCreate()}}},[r("span",{staticClass:"caption"},[e._v("Enviar")])])],1)])},o=[],s=r("1da1"),a=r("5530"),n=(r("96cf"),r("b0c0"),r("a4d3"),r("e01a"),r("9911"),r("4de4"),r("fb6a"),r("99af"),r("2f62")),c=r("5935"),l=r("b5ae"),u=r("716b"),d=r("8572"),p=r("bc3a"),f=r.n(p),m=Object(c["a"])({getterType:"events/getField",mutationType:"events/updateField"}),g=m.mapFields,h=function(e,t){return!l["helpers"].req(e)||e&&0==t.zipcodeNotFound},b={name:"EventProfile",components:{Money:u["Money"],QField:d["a"]},props:{editMode:{type:Boolean,default:!1}},data:function(){return{waiting:!1,files:null,file:null,money:{decimal:",",thousands:".",prefix:"R$ ",precision:2,maxlength:14,masked:!1},autoplay:!0,slide:1,zipcodeNotFound:!1}},validations:{categoryId:{required:l["required"]},name:{required:l["required"]},date:{required:l["required"]},time:{required:l["required"]},local:{required:l["required"]},street:{},neighborhood:{},number:{numeric:l["numeric"]},zipcode:{minLength:Object(l["minLength"])(8),zipcodeNotFound:h,required:Object(l["requiredIf"])((function(){return this.zipcode.length}))},description:{required:l["required"]},link:{url:l["url"]},files:{}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},g({category:"categorySelected",categoryId:"eventForm.categoryId",name:"eventForm.title",date:"eventForm.date",time:"eventForm.time",ticket:"eventForm.ticket",local:"eventForm.local",street:"eventForm.street",neighborhood:"eventForm.neighborhood",number:"eventForm.number",city:"eventForm.city",zipcode:"eventForm.zipcode",description:"eventForm.description",link:"eventForm.link",images:"eventForm.imageIds"})),Object(n["d"])({categories:"categories/loadCategories",user:"users/getCurrentUser"})),{},{categoryErrorMessage:function(){return this.$v.categoryId.required?"":"Esse campo é obrigatório"},nameErrorMessage:function(){return this.$v.name.required?"":"Esse campo é obrigatório"},dateErrorMessage:function(){return this.$v.date.required?"":"Esse campo é obrigatório"},timeErrorMessage:function(){return this.$v.time.required?"":"Esse campo é obrigatório"},localErrorMessage:function(){return this.$v.local.required?"":"Esse campo é obrigatório"},streetErrorMessage:function(){return""},neighborhoodErrorMessage:function(){return""},numberErrorMessage:function(){return""},zipcodeErrorMessage:function(){return this.$v.zipcode.minLength?h?"CEP não encontrado":"":"Entre com um CEP válido"},descriptionErrorMessage:function(){return this.$v.description.required?"":"Esse campo é obrigatório"},linkErrorMessage:function(){return this.$v.link.url?"":"Entre com uma url válida"},filesErrorMessage:function(){return""}}),created:function(){"edit"===this.$route.params.action?this.fetchStorage():"edit"!==this.$route.params.action&&this.cleanForm()&&this.$v.$reset()},methods:{updateFiles:function(e){if(!1===Array.isArray(e)||0===e.length)this.files=null;else if(!0===Array.isArray(this.files)){var t=this.files.filter((function(t){return-1===e.indexOf(t)}));1===t.length&&this.files.length>1?this.files=e.slice():this.files.length<3&&(this.files=t.concat(e))}else this.files=e.slice()},sendForm:function(){this.editMode?this.$store.dispatch("events/updateEvent",{$router:this.$router}):this.$store.dispatch("events/createNewEvent",{$router:this.$router}),this.waiting=!1},cleanForm:function(){this.date="",this.time="",this.ticket="",this.site="",this.street="",this.neighborhood="",this.number="",this.city="",this.zipcode="",this.description="",this.link="",this.imgUrl="",this.category="",this.categoryId=null,this.name="",this.local="",this.images=[]},confirmCreate:function(){var e=this;this.waiting=!0,this.$v.$touch(),this.$v.$anyError?this.$q.notify({message:"Por favor, preencha os campos corretamente.",position:"top-right"}):(this.$q.notify({message:"Por favor, aguarde.",position:"top-right",timeout:1500}),this.files?this.$store.dispatch("images/uploadArray",{files:this.files}).then((function(t){e.images=t,e.sendForm()}))["catch"]((function(t){e.waiting=!1})):this.sendForm())},searchAddress:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.zipcodeNotFound=!1,!/^[0-9]{8}$/.test(this.zipcode)){e.next=17;break}return e.next=5,f.a.get("https://viacep.com.br/ws/"+this.zipcode+"/json/");case 5:if(r=e.sent,!r.data.erro){e.next=13;break}return this.$refs.inputNumber.focus(),t.zipcodeNotFound=!0,t.street="",t.neighborhood="",t.city="",e.abrupt("return");case 13:t.street=r.data.logradouro,t.neighborhood=r.data.bairro,t.city=r.data.localidade,this.$refs.inputNumber.focus();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchStorage:function(){var e=this.$store.state.events.currentEvent,t=new Date(this.$store.state.events.currentEvent.dateTime),r=t.toLocaleDateString(),i=t.toLocaleTimeString();this.categoryId=e.categoryId,this.category=this.$store.getters["categories/getCategoryById"](this.categoryId),this.imageIds=e.imageIds,this.name=e.title,this.date=r,this.time=i,this.street=e.street,this.neighborhood=e.neighborhood,this.number=e.number,this.zipcode=e.zipcode,this.city=e.city,this.ticket=e.ticket,this.link=e.link,this.local=e.local,this.description=e.description}}},v=b,y=(r("904c"),r("2877")),$=r("fe09"),k=Object(y["a"])(v,i,o,!1,null,"0905cc2e",null);t["a"]=k.exports;k.options.components=Object.assign(Object.create(k.options.components||null),k.options.components||{},{QInput:$["y"],QIcon:$["v"],QPopupProxy:$["H"],QDate:$["l"],QBtn:$["c"],QTime:$["R"],QField:$["s"],QSelect:$["K"],QCarousel:$["g"],QCarouselSlide:$["i"],QCarouselControl:$["h"],QFile:$["t"]}),k.options.directives=Object.assign(Object.create(k.options.directives||null),k.options.directives||{},{ClosePopup:$["a"]})},"45b8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=(0,i.regex)("numeric",/^[0-9]*$/);t.default=o},"46bc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(e){return(0,i.withParams)({type:"maxValue",max:e},(function(t){return!(0,i.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))};t.default=o},"5d75":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,s=(0,i.regex)("email",o);t.default=s},"5db3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(e){return(0,i.withParams)({type:"minLength",min:e},(function(t){return!(0,i.req)(t)||(0,i.len)(t)>=e}))};t.default=o},6235:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=(0,i.regex)("alpha",/^[a-zA-Z]*$/);t.default=o},6417:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(e){return(0,i.withParams)({type:"not"},(function(t,r){return!(0,i.req)(t)||!e.call(this,t,r)}))};t.default=o},"6c41":function(e,t,r){},"75a9":function(e,t,r){"use strict";r("9247")},"772d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,s=(0,i.regex)("url",o);t.default=s},"78ef":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return i.default}}),t.regex=t.ref=t.len=t.req=void 0;var i=o(r("8750"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var a=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===s(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=a;var n=function(e){return Array.isArray(e)?e.length:"object"===s(e)?Object.keys(e).length:String(e).length};t.len=n;var c=function(e,t,r){return"function"===typeof e?e.call(t,r):r[e]};t.ref=c;var l=function(e,t){return(0,i.default)({type:e},(function(e){return!a(e)||t.test(e)}))};t.regex=l},"84c8":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box"},[r("div",{staticClass:"input-content"},[e.editMode?r("h4",{staticClass:"title-3 bolder"},[e._v(" Edite seu pin ")]):r("h4",{staticClass:"title-3 bolder"},[e._v(" Adicione um novo pin no mapa ")]),r("div",{staticClass:"column mg-top16"},[r("span",{staticClass:"subheading-2"},[e._v("Nome do pin*")]),r("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",maxlength:"90",required:"",error:e.$v.title.$error,"error-message":e.titleErrorMessage},on:{blur:e.$v.title.$touch},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Categoria*")]),r("q-select",{staticClass:"input",attrs:{"option-value":"id","option-label":"label","map-options":"","emit-value":"",square:"",dense:"",options:e.categories,"options-dense":"","options-selected-class":"",color:"black",error:e.$v.categoryId.$error,"error-message":e.categoryErrorMessage},on:{blur:e.$v.categoryId.$touch,input:function(t){e.category=e.$store.getters["categories/getCategoryById"](e.categoryId)}},scopedSlots:e._u([{key:"selected",fn:function(){return[r("span",{staticClass:"caption bold"},[e._v(e._s(e.category.label))])]},proxy:!0}]),model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})],1),r("div",{staticClass:"row justify-between mg-top8"},[r("div",{staticClass:"column"},[r("span",{staticClass:"subheading-2"},[e._v("CEP*")]),r("q-input",{staticClass:"input",attrs:{dense:"",mask:"##.###-###","unmasked-value":"","input-class":"text-black",color:"black",error:e.$v.cep.$error,"error-message":e.cepErrorMessage},on:{blur:e.$v.cep.$touch,keyup:function(t){return e.searchAddress()}},model:{value:e.cep,callback:function(t){e.cep=t},expression:"cep"}})],1),r("div",{staticClass:"column"},[r("span",{staticClass:"subheading-2"},[e._v("Número")]),r("q-input",{ref:"inputNumber",staticClass:"input",attrs:{dense:"",mask:"########","input-class":"text-black",color:"black",error:e.$v.number.$error,"error-message":e.numberErrorMessage},on:{blur:e.$v.number.$touch},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1)]),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Rua - logradouro*")]),r("q-input",{staticClass:"input",attrs:{disable:"",dense:"","input-class":"text-black",color:"black",error:e.$v.street.$error,"error-message":e.streetErrorMessage},on:{blur:e.$v.street.$touch},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Bairro*")]),r("q-input",{staticClass:"input",attrs:{disable:"",dense:"","input-class":"text-black",color:"black",error:e.$v.neighborhood.$error,"error-message":e.neighborhoodErrorMessage},on:{blur:e.$v.neighborhood.$touch},model:{value:e.neighborhood,callback:function(t){e.neighborhood=t},expression:"neighborhood"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Descrição*")]),r("q-input",{attrs:{autogrow:"",dense:"",hint:"Máximo 200 caracteres","input-class":"text-black",color:"black",rules:[function(e){return e.length<=200||"Máximo de 200 caracteres"}],error:e.$v.description.$error,"error-message":e.descriptionErrorMessage},on:{blur:e.$v.description.$touch},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Email")]),r("q-input",{staticClass:"input",attrs:{dense:"",type:"email","input-class":"text-black",color:"black",error:e.$v.email.$error,"error-message":e.emailErrorMessage},on:{blur:e.$v.email.$touch},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Link")]),r("q-input",{staticClass:"input f-size",attrs:{dense:"","input-class":"text-black",color:"black","error-message":e.linkErrorMessage,error:e.$v.link.$error},on:{blur:e.$v.link.$touch},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("WhatsApp")]),r("q-input",{staticClass:"input",attrs:{dense:"",mask:"(##) #### - #####","unmasked-value":"",color:"black",error:e.$v.phone.$error,"error-message":e.phoneErrorMessage},on:{blur:e.$v.phone.$touch},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Facebook")]),r("q-input",{staticClass:"input f-size",attrs:{dense:"","input-class":"text-black",color:"black","error-message":e.facebookErrorMessage,error:e.$v.facebook.$error},on:{blur:e.$v.facebook.$touch},model:{value:e.facebook,callback:function(t){e.facebook=t},expression:"facebook"}})],1),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Instagram")]),r("q-input",{staticClass:"input f-size",attrs:{dense:"","input-class":"text-black",color:"black",error:e.$v.instagram.$error,"error-message":e.instagramErrorMessage},on:{blur:e.$v.instagram.$touch},model:{value:e.instagram,callback:function(t){e.instagram=t},expression:"instagram"}})],1),e.images.length>0?r("div",{staticClass:"column mg-top8"},[r("q-img",{attrs:{src:""+e.$store.getters["services/getImagePath"]+e.images[0]}})],1):e._e(),r("div",{staticClass:"column mg-top8"},[r("span",{staticClass:"subheading-2"},[e._v("Insira uma imagem")]),r("q-file",{staticClass:"input",attrs:{dense:"",square:"","use-chips":"",multiple:"","max-files":1,accept:".jpg,.jpeg,.png,.gif","max-file-size":"2097152","error-message":e.filesErrorMessage,error:e.$v.files.$error},on:{blur:e.$v.files.$touch},scopedSlots:e._u([{key:"append",fn:function(){return[null!==e.files?r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.files=null}}}):e._e(),r("q-icon",{attrs:{name:"create_new_folder"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v(" Tamanho máximo de 2MB. Formato JPG. ")]},proxy:!0}]),model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})],1)]),r("div",{staticClass:"mg-top32",attrs:{align:"right"}},[r("q-btn",{attrs:{outline:"",color:"black"},on:{click:function(t){return e.confirmCreate()}}},[r("span",{staticClass:"caption"},[e._v("Enviar")])])],1)])},o=[],s=r("1da1"),a=r("5530"),n=(r("96cf"),r("a4d3"),r("e01a"),r("9911"),r("fb6a"),r("99af"),r("4de4"),r("2f62")),c=r("5935"),l=r("b5ae"),u=r("bc3a"),d=r.n(u),p=Object(c["a"])({getterType:"pins/getField",mutationType:"pins/updateField"}),f=p.mapFields,m=function(e,t){return e&&0==t.cepNotFound},g={name:"PinProfile",components:{},props:{item:{type:Object,default:null},fetch:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1}},data:function(){return{waiting:!1,valid:!0,active:!1,files:null,file:null,cepNotFound:!1}},validations:{categoryId:{required:l["required"]},title:{required:l["required"]},email:{email:l["email"]},phone:{minLength:Object(l["minLength"])(11)},street:{required:l["required"]},number:{numeric:l["numeric"]},neighborhood:{required:l["required"]},city:{},cep:{required:l["required"],minLength:Object(l["minLength"])(8),cepNotFound:m},description:{required:l["required"]},link:{url:l["url"]},facebook:{url:l["url"]},instagram:{url:l["url"]},twitter:{url:l["url"]},whatsapp:{},files:{}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(n["d"])({categories:"categories/loadCategories"})),f({category:"categorySelected",categoryId:"pinForm.categoryId",title:"pinForm.title",email:"pinForm.email",phone:"pinForm.phone",street:"pinForm.street",number:"pinForm.number",neighborhood:"pinForm.neighborhood",city:"pinForm.city",cep:"pinForm.zipcode",description:"pinForm.description",images:"pinForm.imageIds",link:"pinForm.link",facebook:"pinForm.facebook",instagram:"pinForm.instagram",twitter:"pinForm.twitter",whatsapp:"pinForm.whatsapp"})),{},{categoryErrorMessage:function(){return this.$v.categoryId.required?"":"Esse campo é obrigatório"},titleErrorMessage:function(){return this.$v.title.required?"":"Esse campo é obrigatório"},emailErrorMessage:function(){return this.$v.email.email?"":"Entre com um email válido"},phoneErrorMessage:function(){return this.$v.phone.minLength?"":"Entre com um telefone válido"},streetErrorMessage:function(){return this.$v.street.required?"":"Esse campo é obrigatório"},numberErrorMessage:function(){return""},neighborhoodErrorMessage:function(){return this.$v.neighborhood.required?"":"Esse campo é obrigatório"},cityErrorMessage:function(){return this.$v.city.required?"":"Esse campo é obrigatório"},cepErrorMessage:function(){return this.$v.cep.required?this.$v.cep.minLength?m?"Cep não encontrado":"":"Entre com um cep válido":"Esse campo é obrigatório"},descriptionErrorMessage:function(){return this.$v.description.required?"":"Esse campo é obrigatório"},linkErrorMessage:function(){return this.$v.link.url?"":"Entre com uma url válida"},facebookErrorMessage:function(){return this.$v.facebook.url?"":"Entre com uma url válida"},instagramErrorMessage:function(){return this.$v.instagram.url?"":"Entre com uma url válida"},twitterErrorMessage:function(){return this.$v.twitter.url?"":"Entre com uma url válida"},whatsappErrorMessage:function(){return""},filesErrorMessage:function(){return this.$v.files.required?"":"É necessário uma imagem."},phoneMask:function(){if(null===this.phone||void 0===this.phone)return!1;var e="",t=this.phone,r=t.slice(0,2),i=t.slice(2,7),o=t.slice(7,11);return e=e.concat(r).concat("").concat(i).concat(" ").concat(o),e}}),created:function(){"edit"===this.$route.params.action?this.fetchStorage():"edit"!==this.$route.params.action&&this.cleanForm()&&this.$v.$reset()},methods:{sendForm:function(){this.editMode?this.$store.dispatch("pins/putPin",{$router:this.$router}):this.$store.dispatch("pins/postPin",{$router:this.$router})},confirmCreate:function(){var e=this;this.waiting=!0,this.$v.$touch(),this.$v.$anyError?this.$q.notify({message:"Por favor, preencha os campos corretamente.",position:"top-right"}):(this.waiting&&this.$q.notify({message:"Por favor, aguarde.",position:"top-right",timeout:1500}),this.files?this.$store.dispatch("images/uploadArray",{files:this.files}).then((function(t){e.images=t,e.sendForm()}))["catch"]((function(t){e.waiting=!1})):this.sendForm())},updateFiles:function(e){if(!1===Array.isArray(e)||0===e.length)this.files=null;else if(!0===Array.isArray(this.files)){var t=this.files.filter((function(t){return-1===e.indexOf(t)}));1===t.length&&this.files.length>1?this.files=e.slice():this.files.length<3&&(this.files=t.concat(e))}else this.files=e.slice()},cleanForm:function(){this.category="",this.categoryId=null,this.title="",this.email="",this.phone="",this.street="",this.number="",this.neighborhood="",this.city="",this.cep="",this.description="",this.images=[],this.link="",this.facebook="",this.instagram="",this.twitter="",this.whatsapp=""},searchAddress:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.cepNotFound=!1,!/^[0-9]{8}$/.test(this.cep)){e.next=17;break}return e.next=5,d.a.get("https://viacep.com.br/ws/"+this.cep+"/json/");case 5:if(r=e.sent,!r.data.erro){e.next=13;break}return this.$refs.inputNumber.focus(),t.cepNotFound=!0,t.street="",t.neighborhood="",t.city="",e.abrupt("return");case 13:t.street=r.data.logradouro,t.neighborhood=r.data.bairro,t.city=r.data.localidade,this.$refs.inputNumber.focus();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchStorage:function(){var e=this.$route.params.id?this.$route.params.id:this.$store.state.pins.selectedPinId,t=this.$store.getters["pins/getPinById"](e);this.categoryId=t.categoryId,this.category=this.$store.getters["categories/getCategoryById"](this.categoryId),this.title=t.title,this.email=t.email,this.phone=t.phone,this.number=t.number,this.street=t.street,this.neighborhood=t.neighborhood,this.city=t.city,this.cep=t.zipcode,this.description=t.description,this.link=t.link,this.facebook=t.facebook,this.instagram=t.instagram,this.images=t.imageIds}}},h=g,b=(r("75a9"),r("2877")),v=r("fe09"),y=Object(b["a"])(h,i,o,!1,null,"4942e262",null);t["a"]=y.exports;y.options.components=Object.assign(Object.create(y.options.components||null),y.options.components||{},{QInput:v["y"],QSelect:v["K"],QImg:v["w"],QFile:v["t"],QIcon:v["v"],QBtn:v["c"]})},8750:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="web"===Object({VUE_APP_BASE_URL:"https://cartografiadaculturacg.com.br/",VUE_APP_DEBUG_SOCKET:"false",VUE_APP_DEV_TOOLS:"false",NODE_ENV:"production",BASE_URL:"/"}).BUILD?r("cb69").withParams:r("0234").withParams,o=i;t.default=o},"904c":function(e,t,r){"use strict";r("6c41")},"91d3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,i.withParams)({type:"macAddress"},(function(t){if(!(0,i.req)(t))return!0;if("string"!==typeof t)return!1;var r="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==r&&(6===r.length||8===r.length)&&r.every(s)}))};t.default=o;var s=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},9247:function(e,t,r){},"9e1d":function(e,t,r){},aa82:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(e){return(0,i.withParams)({type:"requiredIf",prop:e},(function(t,r){return!(0,i.ref)(e,this,r)||(0,i.req)(t)}))};t.default=o},b5ae:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return x.default}}),t.helpers=void 0;var i=E(r("6235")),o=E(r("3a54")),s=E(r("45b8")),a=E(r("ec11")),n=E(r("5d75")),c=E(r("c99d")),l=E(r("91d3")),u=E(r("2a12")),d=E(r("5db3")),p=E(r("d4f4")),f=E(r("aa82")),m=E(r("e652")),g=E(r("b6cb")),h=E(r("772d")),b=E(r("d294")),v=E(r("3360")),y=E(r("6417")),$=E(r("eb66")),k=E(r("46bc")),C=E(r("1331")),x=E(r("c301")),_=q(r("78ef"));function q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}t.helpers=_},b6cb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(e){return(0,i.withParams)({type:"sameAs",eq:e},(function(t,r){return t===(0,i.ref)(e,this,r)}))};t.default=o},c301:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=(0,i.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=o},c99d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=(0,i.withParams)({type:"ipAddress"},(function(e){if(!(0,i.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(s)}));t.default=o;var s=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},cb69:function(e,t,r){"use strict";(function(e){function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var i="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},o=function(e,t){return"object"===r(e)&&void 0!==t?t:e((function(){}))},s=i.vuelidate?i.vuelidate.withParams:o;t.withParams=s}).call(this,r("c8ba"))},d294:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.withParams)({type:"or"},(function(){for(var e=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.length>0&&t.reduce((function(t,r){return t||r.apply(e,i)}),!1)}))};t.default=o},d4f4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=(0,i.withParams)({type:"required"},(function(e){return"string"===typeof e?(0,i.req)(e.trim()):(0,i.req)(e)}));t.default=o},e652:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(e){return(0,i.withParams)({type:"requiredUnless",prop:e},(function(t,r){return!!(0,i.ref)(e,this,r)||(0,i.req)(t)}))};t.default=o},eb66:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(e){return(0,i.withParams)({type:"minValue",min:e},(function(t){return!(0,i.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))};t.default=o},ec11:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("78ef"),o=function(e,t){return(0,i.withParams)({type:"between",min:e,max:t},(function(r){return!(0,i.req)(r)||(!/\s/.test(r)||r instanceof Date)&&+e<=+r&&+t>=+r}))};t.default=o},f591:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"stepper-section"},[e.editMode?r("span",{staticClass:"title-3 bolder"},[e._v("Edite seu debate")]):r("span",{staticClass:"title-3 bolder"},[e._v("Crie seu debate")]),r("label",{staticClass:"headline-3 bolder mg-top16",attrs:{for:"titulo"}},[e._v(" Título* ")]),r("span",{staticClass:"caption mg-top4"},[e._v(" Insira um título curto que represente o assunto principal da discussão. ")]),r("q-input",{staticClass:"titulo",attrs:{id:"titulo",dense:"",square:"","bottom-slots":"",counter:"",maxlength:"100",error:e.$v.title.$error,"error-message":e.titleErrorMessage},on:{blur:e.$v.title.$touch},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),r("label",{staticClass:"headline-3 bolder",attrs:{for:"texto"}},[e._v(" Texto argumentativo* ")]),r("span",{staticClass:"caption mg-top4"},[e._v(" Insira um texto sobre o assunto que quer discutir, apresente seu ponto de vista. ")]),r("q-field",{staticClass:"conteudo",attrs:{id:"texto",type:"textarea","min-height":"5rem",color:"black",borderless:"",dense:"",square:"","bottom-slots":"",counter:"",maxlength:"2000",hint:"Máximo de 2000 caracteres",error:e.$v.content.$error,"error-message":e.contentErrorMessage},on:{blur:e.$v.content.$touch},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}},[r("q-editor",{staticClass:"editor",attrs:{dense:"",square:"",toolbar:[["bold","italic","strike","underline","link"],["hr","quote"],["unordered","ordered","outdent","indent"],["undo","redo","removeFormat"],["viewsource"]]},on:{input:function(t){return e.sanitize(e.content)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),r("span",{staticClass:"headline-3 bolder mg-top16"},[e._v("Categoria do debate")]),r("span",{staticClass:"caption mg-top8"},[e._v(" 1. Selecione primeiro a categoria principal relacionada ao assunto do debate. ")]),r("span",{staticClass:"caption"},[e._v(" 2. Caso queira, selecione outras categorias complementares. ")]),r("div",{staticClass:"category-field mg-top8"},[r("q-list",{staticClass:"category-list"},e._l(e.options,(function(t){return r("q-item",{key:t.value,attrs:{id:"item-"+t.value,clickable:""},on:{click:function(r){return e.tagCategory(t)}}},[r("q-item-section",{attrs:{avata:""}},[r("span",{class:"icon-"+t.value})]),r("q-item-section",{staticClass:"category-label",attrs:{id:"category-label-"+t.value}},[r("span",{staticClass:"caption bolder"},[e._v(e._s(t.label))])])],1)})),1),r("div",{staticClass:"tag-field"},[r("q-field",{staticClass:"main-tag",attrs:{borderless:"",dense:"",value:e.category,label:"categoria principal*",error:e.$v.category.$error,"error-message":e.categoryErrorMessage},on:{blur:e.$v.category.$touch},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},[null!==e.category?r("div",{staticClass:"main-tag-badge caption bolder",style:{color:e.category.color},on:{click:function(t){return e.untagCategory(e.category)}}},[r("span",{staticClass:"caption bolder"},[e._v(e._s(e.category.label))]),r("i",{staticClass:"far fa-times-circle mg-left16",attrs:{id:"untag"}})]):e._e()]),r("q-field",{staticClass:"related-tags",attrs:{type:"textarea",borderless:"",dense:"",square:"","bottom-slots":"",label:"categorias complementares","aria-live":"polite"},model:{value:e.categoriesTagged,callback:function(t){e.categoriesTagged=t},expression:"categoriesTagged"}},[r("div",{staticClass:"related-tags-grid"},e._l(e.categoriesTagged,(function(t,i){return r("div",{key:t.value,staticClass:"categorys-tags-badge",style:{"border-color":t.color,color:t.color},on:{click:function(t){return e.untagCategory(i)}}},[r("span",{staticClass:"caption bolder"},[e._v(" "+e._s(t.label)+" ")]),r("i",{staticClass:"far fa-times-circle mg-left16",attrs:{id:"untag"}})])})),0)])],1)],1),e.editMode?r("div",{staticClass:"mg-top32",attrs:{align:"right"}},[r("q-btn",{attrs:{outline:"",color:"black"},on:{click:function(t){return e.updateTopic()}}},[r("span",{staticClass:"caption"},[e._v("Atualizar")])])],1):e._e()],1)},o=[],s=r("2909"),a=r("5530"),n=(r("159b"),r("caad"),r("2532"),r("a434"),r("b5ae")),c=r("2f62"),l=r("5935"),u=Object(l["a"])({getterType:"topics/getField",mutationType:"topics/updateField"}),d=u.mapFields,p=function(e){return null!==e},f={name:"TopicForm",props:{editMode:{type:Boolean,default:!1}},data:function(){return{options:[],categoryField:""}},validations:{title:{required:n["required"],minLength:Object(n["minLength"])(5),maxLength:Object(n["maxLength"])(100)},content:{required:n["required"],minLength:Object(n["minLength"])(5),maxLength:Object(n["maxLength"])(2e3)},category:{hasCategory:p}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},d({title:"topicForm.title",category:"topicForm.categoryId",categoriesTagged:"topicForm.categoriesTagged",content:"topicForm.content"})),Object(c["d"])({categories:"categories/loadCategories"})),{},{currentCategoriesTagged:function(){var e=this,t=[];return this.categoriesTagged.length>0&&this.categoriesTagged.forEach((function(r){t.push(e.$store.getters["categories/getCategoryById"](r))})),t},titleErrorMessage:function(){return this.$v.title.required?this.$v.title.minLength?this.$v.title.maxLength?"":"Máximo de 100 caracteres":"Mínimo de 5 caracteres":"Campo obrigatório"},contentErrorMessage:function(){return this.$v.content.required?this.$v.content.minLength?this.$v.content.maxLength?"":"Mínimo de 2000 caracteres":"Mínimo de 5 caracteres":"Campo obrigatório"},termsErrorMessage:function(){return"É necessário aceitar os termos"},categoryErrorMessage:function(){return"É necessário escolher um tema"}}),created:function(){this.options=Object(s["a"])(this.categories)},mounted:function(){0==this.editMode&&(this.title="",this.category=null,this.categoriesTagged=[],this.content=""),"edit"===this.$route.params.action&&this.fetchStorage()},methods:{sanitize:function(e){this.content=this.$sanitize(e)},tagCategory:function(e){if(null!==this.category||this.categoriesTagged.includes(e)){if(e.id!==this.category.id&&!this.categoriesTagged.includes(e)){var t=this.categoriesTagged;t.push(e),this.categoriesTagged=t}}else this.category=e},untagCategory:function(e){e===this.category?this.category=null:this.categoriesTagged.splice(e,1)},updateTopic:function(){this.$v.$touch(),this.$v.$anyError?this.$q.notify({message:"Por favor, preencha todos os campos para o debate",position:"top-right"}):this.$store.dispatch("topics/updateTopic",{$socket:this.$socket})},fetchStorage:function(){this.$store.dispatch("topics/fetchStorage")}}},m=f,g=(r("2300"),r("2877")),h=r("fe09"),b=Object(g["a"])(m,i,o,!1,null,"527df474",null);t["a"]=b.exports;b.options.components=Object.assign(Object.create(b.options.components||null),b.options.components||{},{QInput:h["y"],QField:h["s"],QEditor:h["o"],QList:h["D"],QItem:h["z"],QItemSection:h["B"],QBtn:h["c"]})}}]);
//# sourceMappingURL=chunk-2fb3186e.1e2e068d.js.map