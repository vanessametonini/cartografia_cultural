(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-076d699d"],{"113c":function(e,t,s){e.exports=s.p+"img/default.cb37137c.png"},2602:function(e,t,s){"use strict";s("9736")},9736:function(e,t,s){},f932:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["user"===e.form?s("user-form"):e._e(),"pin-editor"===e.form?s("pin-editor"):e._e(),"topic-editor"===e.form?s("topic-editor"):e._e(),"event-editor"===e.form?s("event-editor"):e._e()],1)},o=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("div",{staticClass:"input-content"},[s("h4",{staticClass:"title-3 bolder"},[e._v(" Meus dados ")]),s("div",{staticClass:"row justify-between mg-top8"},[s("div",{staticClass:"column"},[s("span",{staticClass:"subheading-2"},[e._v("Nome*")]),s("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",required:"",readonly:!e.editMode,error:e.$v.firstName.$error,"error-message":e.firstNameErrorMessage},on:{blur:e.$v.firstName.$touch},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),s("div",{staticClass:"column"},[s("span",{staticClass:"subheading-2"},[e._v("Sobrenome*")]),s("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",required:"",readonly:!e.editMode,error:e.$v.lastName.$error,"error-message":e.lastNameErrorMessage},on:{blur:e.$v.lastName.$touch},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1)]),s("div",{staticClass:"row justify-between mg-top8"},[s("div",{staticClass:"column",staticStyle:{width:"49%"}},[s("span",{staticClass:"subheading-2"},[e._v("Gênero")]),s("q-select",{staticClass:"input",attrs:{"option-value":"id","option-label":"label","map-options":"","emit-value":"",square:"",dense:"",options:e.genderOptions,"options-dense":"","options-selected-class":"",color:"black",readonly:!e.editMode},scopedSlots:e._u([{key:"selected",fn:function(){return[s("span",{staticClass:"caption bold"},[e._v(e._s(e.gender))])]},proxy:!0}]),model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}})],1),s("div",{staticClass:"column"},[s("span",{staticClass:"subheading-2"},[e._v("Outro")]),s("q-input",{staticClass:"input",attrs:{dense:"","input-class":"text-black",color:"black",readonly:!e.editMode},model:{value:e.otherGender,callback:function(t){e.otherGender=t},expression:"otherGender"}})],1)]),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Faixa etária")]),s("q-select",{staticClass:"input",attrs:{"option-value":"id","option-label":"label","map-options":"","emit-value":"",square:"",dense:"",options:e.ageRangeOptions,"options-dense":"","options-selected-class":"",color:"black",readonly:!e.editMode},scopedSlots:e._u([{key:"selected",fn:function(){return[s("span",{staticClass:"caption bold"},[e._v(e._s(e.ageRange))])]},proxy:!0}]),model:{value:e.ageRange,callback:function(t){e.ageRange=t},expression:"ageRange"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Formação")]),s("q-select",{staticClass:"input",attrs:{"option-value":"id","option-label":"label","map-options":"","emit-value":"",square:"",dense:"",options:e.educationOptions,"options-dense":"","options-selected-class":"",color:"black",readonly:!e.editMode},scopedSlots:e._u([{key:"selected",fn:function(){return[s("span",{staticClass:"caption bold"},[e._v(e._s(e.education))])]},proxy:!0}]),model:{value:e.education,callback:function(t){e.education=t},expression:"education"}})],1),s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Categoria")]),s("q-select",{staticClass:"input",attrs:{"option-value":"id","option-label":"label","map-options":"","emit-value":"",square:"",dense:"",options:e.categories,"options-dense":"","options-selected-class":"",color:"black",readonly:!e.editMode},scopedSlots:e._u([{key:"selected",fn:function(){return[s("span",{staticClass:"caption bold"},[e._v(e._s(e.getCategoryLabel))])]},proxy:!0}]),model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})],1),e.editMode?s("div",{staticClass:"column mg-top8"},[s("span",{staticClass:"subheading-2"},[e._v("Avatar")]),s("q-file",{staticClass:"input",attrs:{dense:"",square:"",counter:"","max-files":"1"},on:{input:e.encode64},scopedSlots:e._u([{key:"before",fn:function(){return[null!==e.file||e.avatar?s("q-avatar",{attrs:{size:"30px"}},[s("img",{attrs:{src:null===e.file?e.getAvatar:e.img64}})]):s("q-avatar",{attrs:{size:"30px"}},[s("img",{attrs:{src:e.defaultImage}})])]},proxy:!0},{key:"append",fn:function(){return[null!==e.file?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.file=null}}}):e._e(),s("q-icon",{attrs:{name:"create_new_folder"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v(" Tamanho máximo de 5MB ")]},proxy:!0}],null,!1,1430014453),model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1):e._e()]),e.editMode?s("div",{staticClass:"mg-top32",attrs:{align:"right"}},[s("q-btn",{staticClass:"mg-right8",attrs:{flat:"",color:"black"},on:{click:function(t){return e.$router.push("/profile")}}},[s("span",{staticClass:"caption"},[e._v("Cancelar")])]),s("q-btn",{attrs:{outline:"",color:"black"},on:{click:function(t){return e.updateUser()}}},[s("span",{staticClass:"caption"},[e._v("Atualizar")])])],1):e._e()])},i=[],r=s("1da1"),l=s("5530"),c=(s("96cf"),s("99af"),s("d3b7"),s("2f62")),u=s("5935"),d=s("b5ae"),p=Object(u["a"])({getterType:"users/getField",mutationType:"users/updateField"}),m=p.mapFields,f={name:"UserForm",components:{},data:function(){return{waiting:!1,editMode:!0,defaultImage:s("113c"),file:null,img64:"",genderOptions:["Feminino","Masculino","Outros"],ageRangeOptions:["Menos de 20 anos","Entre 20 e 30 anos","Entre 30 e 40 anos","Entre 40 e 50 anos","Entre 50 e 60 anos","Mais de 60 anos"],educationOptions:["Fundamental completo","Ensino médio completo","Superior incompleto","Superior completo","Pós-graduado"]}},validations:{firstName:{required:d["required"]},lastName:{required:d["required"]}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},m({firstName:"userForm.firstName",ageRange:"userForm.ageRange",avatar:"userForm.avatarId",categoryId:"userForm.categoryId",education:"userForm.education",email:"userForm.email",gender:"userForm.gender",lastName:"userForm.lastName",otherGender:"userForm.otherGender"})),Object(c["d"])({categories:"categories/loadCategories",user:"users/getCurrentUser"})),{},{getAvatar:function(){return"".concat(this.$store.getters["services/getImagePath"]).concat(this.avatar)},getCategoryLabel:function(){return this.$store.getters["categories/getCategoryById"](this.categoryId).label},firstNameErrorMessage:function(){return this.$v.firstName.required?"":"Esse campo é obrigatório"},lastNameErrorMessage:function(){return this.$v.lastName.required?"":"Esse campo é obrigatório"}}),methods:{encode64:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===this.file){e.next=3;break}return e.next=3,new Promise((function(e,s){var a=new FileReader;a.readAsDataURL(t.file),a.onload=function(){t.img64=a.result},a.onerror=function(e){return s(e)}}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setEditMode:function(){this.editMode=!this.editMode},updateUser:function(){var e=this;this.waiting=!0,this.$v.$touch(),this.$v.$anyError?this.$q.notify({message:"Por favor, preencha os campos corretamente.",position:"top-right"}):(this.$q.notify({message:"Por favor, aguarde.",position:"top-right",timeout:1500}),this.file?this.$store.dispatch("images/uploadAvatar",{file:this.file,userId:this.user.id}).then((function(t){e.avatar=t,e.$store.dispatch("users/editUser"),e.editMode=!1}))["catch"]((function(t){e.waiting=!1})):(this.$store.dispatch("users/editUser"),this.editMode=!1))}}},g=f,v=(s("2602"),s("2877")),b=s("fe09"),h=Object(v["a"])(g,n,i,!1,null,"0202b724",null),C=h.exports;h.options.components=Object.assign(Object.create(h.options.components||null),h.options.components||{},{QInput:b["y"],QSelect:b["K"],QFile:b["t"],QAvatar:b["b"],QIcon:b["v"],QBtn:b["c"]});var _=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("pin-form",{attrs:{"edit-mode":e.edit}})},k=[],y=s("84c8"),x={name:"PinProfile",components:{PinForm:y["a"]},data:function(){return{edit:!0}}},q=x,$=Object(v["a"])(q,_,k,!1,null,null,null),M=$.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("topic-form",{attrs:{"edit-mode":!0}})},F=[],N=s("f591"),w={components:{TopicForm:N["a"]}},O=w,j=Object(v["a"])(O,E,F,!1,null,null,null),I=j.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("event-form",{attrs:{"edit-mode":!0}})},P=[],S=s("4057"),U={components:{EventForm:S["a"]}},A=U,G=Object(v["a"])(A,R,P,!1,null,null,null),Q=G.exports,T={name:"Service",components:{UserForm:C,PinEditor:M,TopicEditor:I,EventEditor:Q},data:function(){return{form:null}},mounted:function(){switch(this.$route.params.service){case"pins":this.form="pin-editor";break;case"events":this.form="event-editor";break;case"topics":this.form="topic-editor";break;case"user":this.form="user";break;default:this.form=null;break}}},z=T,B=Object(v["a"])(z,a,o,!1,null,null,null);t["default"]=B.exports}}]);
//# sourceMappingURL=chunk-076d699d.e7e8861e.js.map